<!doctypehtml><html lang=en-us><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"name=viewport><title>Loading</title><style>body{margin:0;background-color:#000;overscroll-behavior:contain}.backbuffer{position:absolute;top:0;left:0;margin:0;border:0;width:100%;height:100%;overflow:hidden;display:block;image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering:-webkit-optimize-contrast;image-rendering:optimize-contrast;image-rendering:crisp-edges;-ms-interpolation-mode:nearest-neighbor}.title{pointer-events:none;position:absolute;top:10px;margin-top:0;padding-left:10px;color:#fff;text-decoration:none;z-index:1;text-align:left;font-family:Roboto,Helvetica,sans-serif;font-size:20px;-webkit-user-select:none;-ms-user-select:none;user-select:none}#start{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:3;font-size:2rem;display:none}</style></head><body><div class=title contenteditable id=title-text virtualkeyboardpolicy=manual></div><button id=start onclick=startGame()>Start</button><canvas class=backbuffer id=canvas oncontextmenu=event.preventDefault() tabindex=0></canvas><script>var canvas=document.getElementById("canvas");function startGame(){document.getElementById("start").style.display="none",callMain(),document.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("touchend",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("keyup",(function(e){e.preventDefault(),e.stopPropagation()})),document.addEventListener("keydown",(function(e){if(e.ctrlKey||"Enter"===e.key||"Escape"===e.key||"Backspace"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key){if(e.ctrlKey&&"v"===e.key)return!0}else canvas.dispatchEvent(new KeyboardEvent("keypress",e));e.preventDefault(),e.stopPropagation()}))}var Module={locateFile:function(e){return window.location.origin+window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))+"/"+e},preRun:[function(){addRunDependency("syncfs");const e=new URLSearchParams(window.location.search);e.get("gameData"),e.get("version");FS.analyzePath("/user").exists||FS.mkdir("/user"),FS.mount(IDBFS,{autoPersist:!0},"/user"),FS.syncfs(!0,(function(e){e&&Module.print(e),removeRunDependency("syncfs")}))}],postRun:[],print:function(e){e=Array.prototype.slice.call(arguments).join(" "),console.log(e)},printErr:function(e){e=Array.prototype.slice.call(arguments).join(" "),console.error(e)},canvas:document.getElementById("canvas"),setStatus:function(e){if(console.log("status: "+e),display="",e.includes("Running..."))display="Loading...",document.getElementById("start").style.display="block";else if(e.includes("Downloading data...")){var n=e.match(/\((.*?)\)/);if(display="Downloading: ",n){var t=n[1].split("/"),o=t[0]/t[1];display+=Math.floor(100*o)+"%"}}document.getElementById("title-text").innerHTML=display},monitorRunDependencies:function(e){console.log("monitor run deps: "+e),document.getElementById("title-text").innerHTML="Initializing..."}};window.onerror=function(){console.log("onerror: "+event.message)}</script><script async src=otclient.js></script></body></html>